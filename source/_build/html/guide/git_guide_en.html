

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Git Collaboration Guide &mdash; DI-engine 0.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link href="../_static/css/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> DI-engine
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">使用者指南</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index_zh.html">安装说明</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start/index_zh.html">快速上手</a></li>
<li class="toctree-l1"><a class="reference internal" href="../key_concept/index.html">Key Concept</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro_rl/index_zh.html">强化学习基础概念介绍</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hands_on/index.html">Hands on RL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../env_tutorial/index_zh.html">强化学习环境示例手册</a></li>
<li class="toctree-l1"><a class="reference internal" href="../best_practice/index.html">Best Practice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_doc/index.html">API Doc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index_zh.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../feature/index_zh.html">特性介绍</a></li>
</ul>
<p class="caption"><span class="caption-text">开发者指南</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">开发者指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial_dev/index.html">Tutorial-Developer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/index.html">Architecture Design</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DI-engine</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Git Collaboration Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/guide/git_guide_en.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="git-collaboration-guide">
<h1>Git Collaboration Guide<a class="headerlink" href="#git-collaboration-guide" title="Permalink to this headline">¶</a></h1>
<p>This document aims to provide collaborative development standardization suggestions on git for developers with understandings on the basic usage of git. If you are not familiar with git, you can <strong>in order</strong> read <a class="reference external" href="https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/">Liao Xue Feng’s git Tutorials</a> and <a class="reference external" href="https://git-scm.com/book/zh/v2">Pro Git v2</a> . Liao’s tutorial is suitable for one-hour-getting-started, and pro git is in-depth enough as the official recommended tutorial for git.</p>
<div class="section" id="collaboration-processg">
<h2>Collaboration Processg<a class="headerlink" href="#collaboration-processg" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Init your code repo. There are mainly two cases: creating a repository from scratch (e.g. for making your own wheels), or planning to modify existing code.</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Create a new code repository: It is generally recommended to put the new code repository in their respective team (Group), such as <code class="docutils literal notranslate"><span class="pre">XLab/Cell</span></code>, so that members of the same group have direct accesing &amp; editing permissions. If it is developed and used by yourself, or is not ready to be released to the team, create the code repository under your own user name. For example, <code class="docutils literal notranslate"><span class="pre">niuyazhe/my_test_project</span></code>. All new code repositories <strong>must</strong> be set to <code class="docutils literal notranslate"><span class="pre">private</span></code>.</p></li>
<li><p>Modify existing codes: For modification, it is recommended to fork a new code repository with owner’s username (fork is recommended for cross-group repositories), modify the above, and submit <code class="docutils literal notranslate"><span class="pre">merge</span> <span class="pre">request</span></code> on the original repository. Or you can create your own dev branch under the original repo (a new branch is recommended for the same repo group), and then submit the changes through the <code class="docutils literal notranslate"><span class="pre">merge</span> <span class="pre">request</span></code> as well. <strong>It is forbidden</strong> to update directly by people other than the project maintainer. The <code class="docutils literal notranslate"><span class="pre">master</span></code> branch is generally <strong>forbidden</strong> to use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">-f</span></code> to forcibly overwrite and push local changes to the remote branch.</p></li>
</ul>
</div></blockquote>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>When using the fork method, in order to keep the fork code base synchronized with the original code base, the original code base can be added locally to <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span></code>  and use a branch to keep track of the master branch of the original code base. Examples are as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># after forking `group_foo/proj_bar.git` to `user_baz/proj_bar.git`</span>
git clone &lt;forked_path&gt;
git remote add base &lt;origin_path&gt;  <span class="c1"># base is user-defined name referred to origin remote</span>
git fetch base
git checkout -b base-master base/master  <span class="c1"># use `base-master` to track origin repository</span>
</pre></div>
</div>
</div>
<ol class="arabic simple">
<li><p>For Local repo development, as creating the repo and cloning to local, you can start. Following are some suggestions:</p>
<ul class="simple">
<li><p>For any major code changes or feature updates, you should use <code class="docutils literal notranslate"><span class="pre">GitLab</span> <span class="pre">Issue</span></code> to describe the specific work to be done or discuss related possible resolution with colleagues and open at the same time a new <code class="docutils literal notranslate"><span class="pre">merge</span> <span class="pre">request</span></code> with <code class="docutils literal notranslate"><span class="pre">WIP(Work</span> <span class="pre">In</span> <span class="pre">Progress)</span></code>. Follow up your progress, and other colleagues can also comment, discuss or add code reviews to the MR.</p></li>
<li><p>If the repo is to fix a bug, it is recommended to describe the performance and triggering conditions of the bug on the <code class="docutils literal notranslate"><span class="pre">Issue</span></code> page to prevent other colleagues from stepping on the pit, and label this issue <code class="docutils literal notranslate"><span class="pre">Bug</span> <span class="pre">Report</span></code>.</p></li>
<li><p>If you plan to add a new feature to repo, <strong>before starting to implement</strong>, please chat with the repo manager about your intention and reason for adding this feature as well as the implementation method you intend to use, and then make sure that adding this feature is necessary and feasible. After that, please still raise an issue in the original code repository to describe the feature to add and the specific <code class="docutils literal notranslate"><span class="pre">TODO</span></code> list and label the issue accordingly, for example, use <code class="docutils literal notranslate"><span class="pre">Algorithm</span></code> for algorithm updates.</p></li>
<li><p>In progress of the corresponding development tasks to each issue, you can commit locally according to your own work schedule but try to ensure that each commit corresponds to only one type of related code changes, or you can push half of these commits into your forked repo to avoid loss of work. However, before completing resolving a issue (or a TODO), <strong>do not push the incomplete commit to the original repo base</strong>.</p></li>
</ul>
</li>
<li><p>After making local changes, the developer should sync with the upstream code, integrate your own local commits, and resolve conflicts. Simple conflicts can be resolved directly on the gitlab <code class="docutils literal notranslate"><span class="pre">merge</span> <span class="pre">request</span></code> page. For more complex cases, you should manually merge after the local fetched target branch changed. For further complicated situations, you can consider using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span></code>, (please refer to <a class="reference external" href="https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA">Pro Git-Branch-Rebase</a> for details.</p></li>
<li><p>After the conflict is resolved, the developer should descibe corresponding code changes in the MR or Issue, and later manager or a designated colleague will review the changes. After the code is merged successfully, close the corresponding GitLab Issue.</p></li>
</ol>
</div>
<div class="section" id="git-standards">
<h2>Git Standards<a class="headerlink" href="#git-standards" title="Permalink to this headline">¶</a></h2>
<p>This section lists some points that should be paid special attention to when using git:</p>
<blockquote>
<div><ul class="simple">
<li><p>The code of the merge request submitted to the master branch must be able to <strong>run correctly</strong>. Specifically, developers should perform style-checks and unit tests for the repo. It is recommended to include automatic testing and continuous integration (CI) to ensure stability for the master branch;</p></li>
<li><p>When editing files in the git repo, please pay special attention to the <strong>Line Breaks</strong>. By default, Win sys use <code class="docutils literal notranslate"><span class="pre">CRLF</span></code> for line breaks, and Unix use <code class="docutils literal notranslate"><span class="pre">LF</span></code> for line breaks. We force all files adding to git repository to <strong>use LF line breaks</strong> to avoid potential sys-level bugs. With Win sys, you can use <code class="docutils literal notranslate"><span class="pre">dos2unix</span></code> to perform <a class="reference external" href="https://stackoverflow.com/questions/11929461/how-can-i-run-dos2unix-on-an-entire-directory">batch processing</a> the entire folder’s Line breaks;</p></li>
<li><p>After the dev completed, archived branches should be deleted in remote. This is mainly to avoid the code base from branching confusion or cloning to be overly time-consuming;</p></li>
<li><p>Note to write appropriate <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> and do not add any files irrelevant to the implementation of the project into git, e.g. <code class="docutils literal notranslate"><span class="pre">.DS_Store</span></code> folder under macOS, IDE configuration folders with <code class="docutils literal notranslate"><span class="pre">.vscode</span></code>, <code class="docutils literal notranslate"><span class="pre">.idea</span></code>, running log files, etc.;</p></li>
<li><p>Unless necessary, <strong>Never embed large-capacity binary files in a git repo</strong>, such as model files, binary lib, etc. These files may cause a variety of problems. If you want to import these, use the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">lfs</span></code></p></li>
</ul>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, OpenDILab Contributors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>